Write a code to generate QR codes. The code shall integrate text or URL.

QR code size shall be adjustable with the length of it's payload. 

Support QR code versions 1, 2 and 3. Select only one ECC level per version.

The code shall be printed out in ASCII characters and shall be readable with smartphone. 

Take into account that console characters have 2:1 height to width ratio, use spaces ('  ') for blank pixels and block characters ('██') for filled pixels.

A set of unit test shall be provided. Make sure that there is a unit test that ensures that the codes generated by the program are actually decodable.

The program shall print the QR code for the string that is provided to the input, or "Agentic AI" if nothing is provided.
Parameters starting with -- are not considered an input to be decoded.
When run with --test parameter, it prints the default QR code and runs all tests. 

The use of external libraries to render a QR code (like qrcode) is not allowed for the task completion.